{# templates/realized/monthly.html #}
{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>月別サマリー</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="{% static 'css/app.css' %}" rel="stylesheet">{# 既存のCSSがあれば #}
</head>
<body class="bg-slate-900 text-slate-100">
  <div class="max-w-4xl mx-auto px-4 py-4">
    <div class="flex items-center justify-between mb-3">
      <h1 class="text-xl font-semibold">月別サマリー</h1>
      <a href="{% url 'realized_list' %}" class="text-sm opacity-80 hover:opacity-100">← 実現損益一覧へ</a>
    </div>

    {# 検索ボックス（任意） #}
    <form id="monthlySearchForm" class="mb-3" hx-get="{% url 'realized_summary_period' %}"
          hx-target="#pnlPeriodWrap" hx-swap="outerHTML">
      <input type="hidden" name="preset" value="{{ default_preset }}">
      <input type="hidden" name="freq"   value="{{ default_freq }}">
      <input type="text" name="q" value="{{ q }}" placeholder="ティッカー/名称で検索"
             class="w-full rounded-lg bg-slate-800 px-3 py-2 text-sm">
    </form>

    {# ここに _summary_period.html を差し込む（既存テンプレをそのまま利用） #}
    <div
      id="pnlPeriodWrap"
      hx-get="{% url 'realized_summary_period' %}?preset={{ default_preset }}&freq={{ default_freq }}&q={{ q|urlencode }}"
      hx-trigger="load"
      hx-swap="outerHTML">
      <div class="text-sm opacity-70">読み込み中…</div>
    </div>
  </div>

  <script src="{% static 'htmx.min.js' %}"></script>{# 既に読み込んでいるなら不要 #}
</body>
</html>