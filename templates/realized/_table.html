<!-- templates/realized/_table.html -->
<table>
  <thead>
    <tr>
      <th>日付</th>
      <th>銘柄</th>
      <th>Side</th>
      <th>数量</th>
      <th>価格</th>
      <th>手数料</th>
      <th>税</th>
      <th>実現損益</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    {% for t in trades %}
      <tr>
        <td>{{ t.trade_at|date:"Y-m-d" }}</td>
        <td>{{ t.ticker }}</td>
        <td>{{ t.side }}</td>
        <td>{{ t.qty }}</td>
        <td>{{ t.price }}</td>
        <td>¥{{ t.fee }}</td>
        <td>¥{{ t.tax }}</td>
        <td class="{% if t.pnl < 0 %}text-red-500{% else %}text-green-500{% endif %}">
          ¥{{ t.pnl|floatformat:0 }}
        </td>
        <td>
          <form hx-post="{% url 'realized_delete' t.id %}"
                hx-target="#pnlTableWrap"
                hx-swap="outerHTML">
            {% csrf_token %}
            <button type="submit">削除</button>
          </form>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="9">データなし</td></tr>
    {% endfor %}
  </tbody>
</table>