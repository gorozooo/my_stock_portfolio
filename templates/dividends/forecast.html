{% extends "base.html" %}
{% load static %}
{% block title %}配当予測{% endblock %}

{% block head %}
<style>
  .toolbar{display:grid;grid-template-columns:1fr;gap:12px;max-width:960px;margin:0 auto 12px}
  .toolbar select{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.14);
                  background:rgba(255,255,255,.06);color:#eaf0ff}
  .box{max-width:960px;margin:0 auto;border:1px solid rgba(255,255,255,.09);
       background:rgba(255,255,255,.04);border-radius:12px;padding:12px}
  .row{display:flex;justify-content:space-between;padding:8px 6px;border-bottom:1px dashed rgba(255,255,255,.08)}
  .row:last-child{border-bottom:none}
  .sum{font-weight:700;margin-top:12px}
</style>
{% endblock %}

{% block content %}
<h1 class="text-xl font-semibold mb-3">配当予測（12ヶ月）</h1>

<div class="toolbar">
  <select id="selYear">
    {% for y in year_options %}
      <option value="{{ y }}" {% if flt.year == y|stringformat:"s" %}selected{% endif %}>{{ y }}</option>
    {% endfor %}
  </select>
</div>

<div class="box">
  <div id="fcRows"></div>
  <div class="sum" id="fcSum"></div>
</div>

<script>
  window.__FORECAST_INIT__ = {{ payload_json|safe }};
</script>
<script src="{% static 'js/dividends_forecast.js' %}?v=5"></script>
{% endblock %}