{% extends "base.html" %}
{% block title %}配当を記録{% endblock %}

{% block head %}
<style>
  .form-card{display:grid;gap:12px;padding:16px;border-radius:16px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);max-width:640px;margin:0 auto;}
  .fi label{display:block;font-size:13px;color:#9aa4b2;margin-bottom:4px}
  .in{width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.06);color:#e6ebff;outline:none}
  .row{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}
  .btnbar{display:flex;gap:10px}
  .btn{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.06);color:#e6ebff}
  .chk{width:18px;height:18px;vertical-align:middle}
</style>
{% endblock %}

{% block content %}
<div class="pnl">
  <h1 class="text-lg font-bold mb-3">配当を記録</h1>

  <form method="post" class="form-card">
    {% csrf_token %}

    <div class="fi">
      <label>保有（銘柄）</label>
      {{ form.holding }}
    </div>

    <div class="row">
      <div class="fi"><label>受取日</label>{{ form.date }}</div>
      <div class="fi"><label>受取額</label>{{ form.amount }}</div>
      <div class="fi">
        <label>税込/税引後</label>
        <div style="display:flex;align-items:center;gap:8px">
          {{ form.is_net }} <span style="font-size:13px;opacity:.8">税引後（チェックON）</span>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="fi"><label>税額（任意）</label>{{ form.tax }}</div>
      <div class="fi"><label>手数料（任意）</label>{{ form.fee }}</div>
    </div>

    <div class="fi"><label>メモ</label>{{ form.memo }}</div>

    {% if form.errors %}
      <div class="px-3 py-2 rounded bg-rose-900/40 border border-rose-500/30 text-rose-100 text-sm">
        入力に誤りがあります。確認してください。
      </div>
    {% endif %}

    <div class="btnbar">
      <button class="btn" type="submit">保存</button>
      <a class="btn" href="{% url 'dividend_list' %}">一覧へ戻る</a>
    </div>
  </form>
</div>
{% endblock %}