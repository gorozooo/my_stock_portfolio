{% load static %}
<div class="btm-wrap" id="bottomTabRoot" aria-label="Bottom Navigation">
  <!-- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«CSSï¼ˆæœ€ä½é™ï¼‰ -->
  <style>
    /* â˜… æœ€ä½é™ã®è¦‹ãŸç›®ã‚’ã“ã“ã§ä¿è¨¼ï¼ˆå¤–éƒ¨CSSãŒæ­»ã‚“ã§ã‚‚å´©ã‚Œãªã„ï¼‰ */
    .btm-wrap{position:fixed;left:0;right:0;bottom:0;z-index:10000;pointer-events:none}
    .btm-nav{pointer-events:auto;background:rgba(13,16,24,.78);backdrop-filter:blur(12px);
      border-top:1px solid rgba(255,255,255,.08);padding-bottom:max(0px,env(safe-area-inset-bottom))}
    .btm-grid{max-width:680px;margin:0 auto;display:grid;gap:2px;
      grid-template-columns:repeat(var(--tab-cols,4),1fr)} /* â† ã‚¿ãƒ–æ•°ã«è‡ªå‹•è¿½å¾“ */
    .tab-btn{position:relative;background:none;border:0;color:#cfd6ee;
      padding:10px 2px calc(12px + env(safe-area-inset-bottom));display:flex;flex-direction:column;align-items:center;gap:3px;
      cursor:pointer;touch-action:manipulation;-webkit-tap-highlight-color:transparent;user-select:none;outline:none;min-width:0}
    .tab-btn .ico{font-size:20px;line-height:1} .tab-btn span{font-size:11px;white-space:nowrap}
    .tab-btn.active{color:#fff}
  </style>

  <nav class="btm-nav">
    <div class="btm-grid">
      <button class="tab-btn" data-link="/"          data-menu="home"     aria-label="ãƒ›ãƒ¼ãƒ ">
        <div class="ico">ğŸ </div><span>ãƒ›ãƒ¼ãƒ </span>
      </button>
      <button class="tab-btn" data-link="/holdings/" data-menu="holdings" aria-label="ä¿æœ‰">
        <div class="ico">ğŸ“„</div><span>ä¿æœ‰</span>
      </button>
      <!-- â˜… è¿½åŠ ï¼šå®Ÿç¾æç›Š -->
      <button class="tab-btn" data-link="/pnl/"      data-menu="pnl"      aria-label="å®Ÿç¾æç›Š">
        <div class="ico">ğŸ’°</div><span>å®Ÿç¾æç›Š</span>
      </button>
      <button class="tab-btn" data-link="/trend/"    data-menu="trend"    aria-label="ãƒˆãƒ¬ãƒ³ãƒ‰">
        <div class="ico">ğŸ“ˆ</div><span>ãƒˆãƒ¬ãƒ³ãƒ‰</span>
      </button>
    </div>
  </nav>

  <!-- ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆï¼ˆé•·æŠ¼ã—ã§é–‹ãï¼‰ -->
  <div class="submenu" id="submenu" role="menu" aria-hidden="true">
    <div class="grabber" aria-hidden="true"></div>
    <!-- JSãŒãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã‚’å·®ã—è¾¼ã‚€ -->
  </div>
  <div class="btm-mask"></div>
</div>

<!-- å¤–éƒ¨CSSï¼ˆæœ¬ç•ªã®ãƒªãƒƒãƒãªè¦‹ãŸç›®ï¼‰â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¹ã‚¿ãƒ¼å¿…é ˆ -->
<link rel="stylesheet" href="{% static 'css/bottom_tab.css' %}?v=9">
<script>
  // ã‚¿ãƒ–æ•°ã«å¿œã˜ã¦åˆ—æ•°ã‚’è‡ªå‹•è¨­å®šï¼ˆå¤–éƒ¨CSSãŒæ¥ã‚‹å‰ã§ã‚‚åŠ¹ãï¼‰
  (function(){
    const root = document.documentElement;
    const count = document.querySelectorAll('#bottomTabRoot .tab-btn').length || 4;
    root.style.setProperty('--tab-cols', count);
  })();
</script>