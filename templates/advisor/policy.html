{% extends "base.html" %}
{% load static %}

{% block title %}ポリシー設定{% endblock %}

{% block content %}

<header class="pol-header">
  <div class="wrap">
    <h1>⚙️ ポリシー設定</h1>
  </div>
</header>

<main class="pol-container">
  <!-- 🧠 バナー（どちらかが auto のときだけ表示） -->
  <section class="ai-banner" id="aiBanner" hidden>
    <div class="brain">🧠</div>
    <div class="txt">
      <div class="line1">AIが今日の最適設定を自動選択中</div>
      <div class="line2"><span id="runningLabel">運用中：</span><b id="runningMode">—</b></div>
    </div>
  </section>

  <!-- バナーが出ていない時でも運用中モードを見せる -->
  <div class="running-alt"><span>運用中：</span><b id="runningModeAlt">—</b></div>

  <!-- リスクモード -->
  <section class="card">
    <h2>リスクモード</h2>
    <div class="chips" id="riskChips">
      <button data-val="attack"  class="chip" aria-pressed="false">攻め</button>
      <button data-val="normal"  class="chip" aria-pressed="false">普通</button>
      <button data-val="defense" class="chip" aria-pressed="false">守り</button>
      <button data-val="auto"    class="chip" aria-pressed="false">おまかせ</button>
    </div>
  </section>

  <!-- 保有スタイル -->
  <section class="card">
    <h2>保有スタイル</h2>
    <div class="chips" id="styleChips">
      <button data-val="short" class="chip" aria-pressed="false">短期</button>
      <button data-val="mid"   class="chip" aria-pressed="false">中期</button>
      <button data-val="long"  class="chip" aria-pressed="false">長期</button>
      <button data-val="auto"  class="chip" aria-pressed="false">おまかせ</button>
    </div>
  </section>

  <div class="actions">
    <button id="saveBtn" class="btn primary">💾 保存</button>
    <button id="resetBtn" class="btn ghost">🔄 リセット</button>
  </div>
</main>

<link rel="stylesheet" href="{% static 'advisor/policy.css' %}?v=4" />
<script src="{% static 'advisor/policy.js' %}?v=10"></script>
{% endblock %}