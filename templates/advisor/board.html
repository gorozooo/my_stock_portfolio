{% extends "base.html" %}
{% load static %}

{% block title %}ä»Šæ—¥ã®ä½œæˆ¦ãƒœãƒ¼ãƒ‰{% endblock %}

{% block content %}
  <header class="adv-header">
    <div class="wrap">
      <div class="date-row">
        <div class="date" id="dateLabel"></div>
        <div class="pill status" id="statusPill" aria-live="polite">â€”</div>
      </div>

      <div class="summary">
        <div class="pill"><strong class="trend-badge" id="trendBadge"></strong></div>
        <div class="pill">ä»Šé€±ã®ãƒ†ãƒ¼ãƒï¼š<span class="theme-strip" id="themeStrip"></span></div>
        <div class="pill">å†ç¾ç‡ <strong id="adherence">--%</strong></div>
      </div>
    </div>
  </header>

  <main class="container" role="main">
    <h2 class="section-title">ãŠã™ã™ã‚ï¼ˆ5ä»¶ï¼‰</h2>
    <section class="cards" id="cards" aria-live="polite"></section>
    <div class="foot">
      <button class="btn ghost" id="reorderBtn" aria-pressed="false">ğŸ”€ ä¸¦ã³æ›¿ãˆ</button>
      <a class="btn" href="#" id="moreBtn">ğŸ“‰ ä»–ã®å€™è£œã‚’è¦‹ã‚‹</a>
    </div>
  </main>

  <style>
    .date-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:6px;
      flex-wrap:wrap;
      gap:4px;
    }
    .pill.status{
      font-weight:700;
      padding:4px 10px;
      border-radius:999px;
      font-size:0.82rem;
    }
    .pill.status.live{
      background:rgba(16,185,129,.18);
      border:1px solid rgba(16,185,129,.35);
      color:#b7f7df;
    }
    .pill.status.demo{
      background:rgba(245,158,11,.18);
      border:1px solid rgba(245,158,11,.35);
      color:#ffe3b2;
    }
  </style>

  <!-- APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ã‚µãƒ¼ãƒå´URLã‹ã‚‰æ³¨å…¥ -->
  <script>
    window.ADVISOR_API_BOARD  = "{% url 'advisor_board' %}";           // âœ… /advisor/api/board/
    window.ADVISOR_API_ACTION = "{% url 'advisor_record_action' %}";   // âœ… /advisor/api/action/
    window.ADVISOR_API_REMIND = "{% url 'advisor_create_reminder' %}"; // âœ… /advisor/api/remind/
  </script>

  <link rel="stylesheet" href="{% static 'advisor/board.css' %}?v=3" />
  <script src="{% static 'advisor/board.js' %}?v=19"></script>
{% endblock %}