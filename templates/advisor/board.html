{% extends "base.html" %}
{% load static %}

{% block title %}ä»Šæ—¥ã®ä½œæˆ¦ãƒœãƒ¼ãƒ‰{% endblock %}

{% block content %}
<header class="adv-header">
  <div class="wrap">
    <!-- æ—¥ä»˜è¡Œï¼šå·¦ã«æ—¥ä»˜ã€å³ã« LIVE/DEMO ãƒ”ãƒ«ï¼‹å¼·åˆ¶ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ -->
    <div class="date-row">
      <div class="date" id="dateLabel"></div>

      <div class="action-group">
        <span id="statusPill" class="status-pill" aria-label="ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥">â€”</span>

        <button id="refreshBtn" class="icon-btn" type="button" aria-label="å¼·åˆ¶ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥" title="å¼·åˆ¶ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥">
          <!-- ã‚¢ã‚¤ã‚³ãƒ³ã¯CSSã§æç”»ã€ãƒ†ã‚­ã‚¹ãƒˆã¯ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç”¨ã«æ®‹ã™ -->
          <span class="icon" aria-hidden="true"></span>
          <span class="label">æ›´æ–°</span>
        </button>
      </div>
    </div>

    <div class="summary">
      <div class="pill"><strong class="trend-badge" id="trendBadge"></strong></div>
      <div class="pill">ä»Šé€±ã®ãƒ†ãƒ¼ãƒï¼š<span class="theme-strip" id="themeStrip"></span></div>
      <div class="pill">å†ç¾ç‡ <strong id="adherence">--%</strong></div>
    </div>
  </div>
</header>

<main class="container" role="main">
  <h2 class="section-title">ãŠã™ã™ã‚ï¼ˆ5ä»¶ï¼‰</h2>
  <section class="cards" id="cards" aria-live="polite"></section>
  <div class="foot">
    <button class="btn ghost" id="reorderBtn" aria-pressed="false">ğŸ”€ ä¸¦ã³æ›¿ãˆ</button>
    <a class="btn" href="#" id="moreBtn">ğŸ“‰ ä»–ã®å€™è£œã‚’è¦‹ã‚‹</a>
  </div>
</main>

<style>
  /* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
  .adv-header .wrap{max-width:980px;margin:0 auto;padding:12px 14px}
  .date-row{
    display:flex;align-items:center;justify-content:space-between;
    gap:8px;margin-bottom:8px
  }
  .date{font-size:1.05rem;font-weight:700;letter-spacing:.02em}

  /* å³å´ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æ¨ªä¸¦ã³ */
  .action-group{display:flex;align-items:center;gap:8px}

  /* LIVE/DEMO ãƒ”ãƒ« */
  .status-pill{
    display:inline-flex;align-items:center;gap:6px;
    padding:6px 10px;border-radius:999px;
    font-size:.82rem;font-weight:700;letter-spacing:.02em;
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.12);
    color:#dfe7ff; backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
    box-shadow:0 6px 20px rgba(0,0,0,.24) inset, 0 1px 0 rgba(255,255,255,.06)
  }
  /* board.js ãŒ .live / .demo ã‚’ä»˜ä¸ã™ã‚‹æƒ³å®š */
  .status-pill.live{background:rgba(16,185,129,.16);border-color:rgba(16,185,129,.38);color:#bff7e6}
  .status-pill.demo{background:rgba(245,158,11,.16);border-color:rgba(245,158,11,.36);color:#ffe3b2}

  /* å¼·åˆ¶ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ï¼ˆå°ã•ãªä¸¸ãƒœã‚¿ãƒ³ï¼‹ãƒ©ãƒ™ãƒ«ï¼‰ */
  .icon-btn{
    position:relative;display:inline-flex;align-items:center;gap:8px;
    padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.06); color:#eaf0ff; font-weight:600;
    box-shadow:0 4px 18px rgba(0,0,0,.22), inset 0 1px 0 rgba(255,255,255,.06);
    backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
    transition:transform .12s ease, border-color .2s ease, background .2s ease;
  }
  .icon-btn:hover{ transform:translateY(-1px); border-color:rgba(255,255,255,.22); }
  .icon-btn:active{ transform:translateY(0); }

  /* ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆå›è»¢çŸ¢å°ï¼‰ */
  .icon-btn .icon{
    width:16px;height:16px;display:inline-block;position:relative;
  }
  .icon-btn .icon::before{
    content:""; position:absolute; inset:0; border-radius:50%;
    border:2px solid currentColor; border-right-color:transparent; border-bottom-color:transparent;
    opacity:.9;
  }
  /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯å›è»¢ */
  .icon-btn[disabled] .icon::before{ animation:spin 1s linear infinite; opacity:1 }
  @keyframes spin{ to{ transform:rotate(360deg) } }

  /* ãƒ©ãƒ™ãƒ«ã¯ç‹­ã„ç”»é¢ã§éè¡¨ç¤ºï¼ˆã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ï¼‰ */
  @media (max-width:420px){ .icon-btn .label{ display:none } }

  /* æ—¢å­˜ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ”ãƒ«ï¼ˆæ—§ï¼‰ã‚’ä¸Šæ›¸ãã—ã¦ãŠãï¼ˆå¿µã®ãŸã‚ï¼‰ */
  .pill.status{display:none}
</style>

<!-- APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆURLé€†å¼•ãã§æ³¨å…¥ï¼‰ -->
<script>
  window.ADVISOR_API_BOARD  = "{% url 'advisor_board' %}";
  window.ADVISOR_API_ACTION = "{% url 'advisor_record_action' %}";
  window.ADVISOR_API_REMIND = "{% url 'advisor_create_reminder' %}";
</script>

<link rel="stylesheet" href="{% static 'advisor/board.css' %}?v=3">
<script src="{% static 'advisor/board.js' %}?v=20"></script>
{% endblock %}