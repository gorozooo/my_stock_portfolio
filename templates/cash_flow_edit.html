{% extends "base.html" %}
{% load static humanize %}

{% block title %}入出金を編集{% endblock %}

{% block content %}
<div class="cash-page" style="padding:16px;">
  <h1 style="font-size:18px; margin:0 0 10px;">入出金を編集（{{ broker_label }}）</h1>

  <form method="post" class="card" style="padding:14px;">
    {% csrf_token %}

    <div class="field">
      <label>種別</label>
      <input type="text" value="{% if item.flow_type == 'in' %}入金{% else %}出金{% endif %}" disabled>
    </div>

    <div class="field">
      <label>金額（円）</label>
      <input type="number" name="amount" inputmode="numeric" value="{{ item.amount }}" min="1" required>
    </div>

    <div class="field">
      <label>日付</label>
      <input type="date" name="occurred_at" value="{{ item.occurred_at|date:'Y-m-d' }}" required>
    </div>

    <div class="field">
      <label>メモ</label>
      <input type="text" name="memo" value="{{ item.memo }}" placeholder="任意">
    </div>

    <div class="sticky-actions" style="position:static; margin-top:10px; display:flex; gap:10px;">
      <a class="btn secondary" href="{% url 'cash_io' %}?broker={{ item.broker }}">戻る</a>
      <button class="btn primary" type="submit">保存</button>
    </div>
  </form>
</div>
{% endblock %}