<table class="w-full text-sm">
  <thead class="text-slate-400">
    <tr>
      <th class="text-left py-1">日付</th>
      <th class="text-left py-1">銘柄</th>
      <th class="text-right py-1">Side</th>
      <th class="text-right py-1">数量</th>
      <th class="text-right py-1">価格</th>
      <th class="text-right py-1">手数料</th>
      <th class="text-right py-1">税</th>
      <th class="text-right py-1">実現損益</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  {% for r in rows %}
    <tr class="border-t border-slate-800">
      <td class="py-1">{{ r.trade_at }}</td>
      <td class="py-1">{{ r.ticker }}</td>
      <td class="py-1 text-right">{{ r.side }}</td>
      <td class="py-1 text-right">{{ r.qty|floatformat:0 }}</td>
      <td class="py-1 text-right">{{ r.price|floatformat:2 }}</td>
      <td class="py-1 text-right">{{ r.fee|floatformat:2 }}</td>
      <td class="py-1 text-right">{{ r.tax|floatformat:2 }}</td>
      <td class="py-1 text-right {% if r.pnl < 0 %}text-rose-400{% else %}text-emerald-400{% endif %}">
        {{ r.pnl|floatformat:0 }}
      </td>
      <td class="py-1 pl-2">
        <button class="text-rose-400 hover:text-rose-300"
                hx-post="{% url 'realized_delete' r.id %}"
                hx-confirm="削除しますか？"
                hx-on::after-request="htmx.ajax('GET','{% url 'realized_table_partial' %}', {target:'#rt-table', swap:'innerHTML'})">
          削除
        </button>
      </td>
    </tr>
  {% empty %}
    <tr><td colspan="9" class="py-3 text-slate-400">データなし</td></tr>
  {% endfor %}
  </tbody>
</table>