/* === Glass × Dark – Mobile-first (Futuristic, spacious & vivid) === */
*,*::before,*::after{box-sizing:border-box}
:root{
  --bg:#050914;
  --ink:#f8fafc;
  --muted:rgba(248,250,252,.78);
  --emph:#60a5fa;
  --emph-2:#8b5cf6;
  --good:#34d399;
  --bad:#f87171;

  --glass:rgba(255,255,255,.10);
  --glass-weak:rgba(255,255,255,.06);
  --glass-strong:rgba(255,255,255,.16);
  --glass-line:rgba(255,255,255,.28);

  --radius-s:12px;
  --radius-m:14px;
  --radius-l:18px;

  --space-1:8px;
  --space-2:12px;
  --space-3:16px;
  --space-4:20px;
  --space-5:28px;

  --tap:48px;
  --bw:1px;
}

html{
  height:100%;
  scroll-behavior:smooth;
  -webkit-text-size-adjust:100%;
}
@media (prefers-reduced-motion:reduce){
  html{scroll-behavior:auto}
  *{animation:none!important;transition:none!important}
}

body{
  min-height:100%;
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1100px 520px at 80% -10%,rgba(96,165,250,.22),transparent 60%),
    radial-gradient(1100px 520px at -10% 120%,rgba(139,92,246,.18),transparent 60%),
    radial-gradient(900px 420px at 30% 20%,rgba(34,197,94,.10),transparent 60%),
    #050914;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif;
  line-height:1.7;
}

.home-page{
  padding:calc(env(safe-area-inset-top,0) + var(--space-5))
          var(--space-3)
          calc(env(safe-area-inset-bottom,0) + var(--space-5));
  max-width:1180px;
  margin:0 auto;
}

/* ─── Cards ───────────────────────────────────────── */
.card{
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:var(--bw) solid var(--glass-line);
  border-radius:var(--radius-l);
  padding:var(--space-4);
  margin:var(--space-4) 0;
  -webkit-backdrop-filter:blur(14px) saturate(150%);
  backdrop-filter:blur(14px) saturate(150%);
  box-shadow:0 12px 28px rgba(0,0,0,.34), inset 0 0 0 1px rgba(255,255,255,.05);
}
.card > *:first-child{margin-top:0}
.card > *:last-child{margin-bottom:0}

/* ★ 不要な上部の1本線を削除：.card::before を廃止 */

/* ─── Messages ───────────────────────────────────── */
.msgs{list-style:none;padding:0;margin:0 0 var(--space-3)}
.msg{
  padding:12px 14px;
  border-radius:var(--radius-m);
  background:var(--glass-weak);
  border:var(--bw) solid var(--glass-line);
  margin:10px 0;
}

/* ─── Buttons ─────────────────────────────────────── */
.btn{
  display:inline-flex;align-items:center;gap:10px;
  min-height:var(--tap);
  padding:12px 16px;
  border-radius:14px;
  border:var(--bw) solid var(--glass-line);
  background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.06));
  color:#fff;text-decoration:none;font-weight:900;letter-spacing:.02em
}
.btn:active{transform:translateY(1px)}
.btn.ghost{background:transparent}
.btn.link{
  background:transparent;border-color:transparent;color:#cfe2ff;
  text-decoration:underline;text-underline-offset:4px
}

/* ─── Hero ───────────────────────────────────────── */
.hero{display:flex;flex-direction:column;gap:var(--space-4)}
.hero-head{
  display:flex;align-items:center;justify-content:center; /* ★ 中央寄せ */
  gap:var(--space-2);flex-wrap:wrap;text-align:center;
}
.hero-actions{display:none} /* ★ ボタンを隠す */
.hero-title{
  font-weight:1000;letter-spacing:.02em;margin:0;
  font-size:clamp(20px,5vw,28px);
}

.hero-grid{display:grid;grid-template-columns:1fr;gap:var(--space-4)}
@media(min-width:720px){.hero-grid{grid-template-columns:min(280px,40%) 1fr}}

.ring{
  position:relative;
  width:min(280px,76vw);
  aspect-ratio:1/1;
  margin:auto;
  contain:layout paint;
}
.ring-svg{width:100%;height:100%;transform:rotate(-90deg)}
.ring .bg{fill:none;stroke:rgba(255,255,255,.18);stroke-width:14}
.ring .fg{
  fill:none;stroke:var(--emph);stroke-width:14;stroke-linecap:round;
  filter:drop-shadow(0 0 12px rgba(96,165,250,.9))
}
.ring .fg.violet{stroke:var(--emph-2);filter:drop-shadow(0 0 12px rgba(139,92,246,.9))}
.ring-center{
  position:absolute;inset:0;display:flex;flex-direction:column;
  align-items:center;justify-content:center;text-align:center;padding:8px
}
.ring-title{font-size:12px;color:var(--muted);letter-spacing:.10em;text-transform:uppercase}
.ring-figure{font-size:32px;font-weight:1000;letter-spacing:.01em;margin-top:8px;font-variant-numeric:tabular-nums}
.ring-sub{margin-top:8px;font-size:13px;color:var(--muted)}
.pn.pos{color:var(--good)} .pn.neg{color:var(--bad)}

.hero-right{display:flex;flex-direction:column;gap:var(--space-3)}
.kpi-row{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-2)}
@media(min-width:420px){.kpi-row{grid-template-columns:1fr 1fr 1fr}}
.mini{
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
  border:var(--bw) solid var(--glass-line);
  border-radius:var(--radius-m);
  padding:14px 16px;
  display:flex;flex-direction:column;gap:6px
}
.mini .k{font-size:12px;color:var(--muted);letter-spacing:.02em}
.mini .v{font-weight:1000;font-variant-numeric:tabular-nums;font-size:18px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* スパークライン：データが無い時はJSでdisplay:noneに */
.sparkline{
  height:84px;border-radius:16px;
  background:var(--glass-weak);
  border:var(--bw) solid var(--glass-line);
  display:flex;align-items:center;justify-content:center;overflow:hidden;
  position:relative
}
.sparkline::after{
  content:"";
  position:absolute;left:0;right:0;bottom:0;height:2px;
  background:linear-gradient(90deg,rgba(96,165,250,.65),rgba(139,92,246,.65));
  filter:blur(6px);opacity:.7
}

/* ─── Tabs (brokers) ───────────────────────────── */
.tabs{
  display:flex;gap:10px;justify-content:flex-start;flex-wrap:nowrap;
  overflow:auto; padding-bottom:6px; margin-bottom:var(--space-3);
  -webkit-overflow-scrolling:touch; scroll-snap-type:x mandatory;
}
.tabs::-webkit-scrollbar{height:8px}
.tabs::-webkit-scrollbar-thumb{background:rgba(255,255,255,.22);border-radius:999px}
.tab{
  flex:0 0 auto;
  scroll-snap-align:start;
  min-height:var(--tap);
  padding:10px 16px;border-radius:999px;
  border:var(--bw) solid var(--glass-line);
  background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));
  color:#fff;font-weight:1000;letter-spacing:.02em
}
.tab.active{
  background:linear-gradient(180deg,rgba(96,165,250,.42),rgba(96,165,250,.20));
  border-color:rgba(96,165,250,.9);
  box-shadow:0 0 22px rgba(96,165,250,.28)
}
.panes{min-height:1px}
.panes .pane{display:none}
.panes .pane.active{display:block}

/* ─── Pane head & pills ─────────────────────────── */
.pane-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:var(--space-3);flex-wrap:wrap}
.pane-brand{display:flex;align-items:center;gap:12px}
.logo{
  width:36px;height:36px;border-radius:12px;
  border:var(--bw) solid var(--glass-line);
  background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.06));
  display:flex;align-items:center;justify-content:center;font-weight:1000
}
.pane-balance .k{font-size:12px;color:var(--muted)}
.pane-balance .v{font-weight:1000;font-variant-numeric:tabular-nums;font-size:18px}

.pill-row{display:grid;gap:var(--space-2);grid-template-columns:1fr 1fr}
@media(min-width:520px){.pill-row{grid-template-columns:repeat(3,1fr)}}
.pill{
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
  border:var(--bw) solid var(--glass-line);border-radius:14px;padding:14px
}
.pill .k{font-size:12px;color:var(--muted)}
.pill .v{font-weight:1000;font-variant-numeric:tabular-nums;font-size:16px}

/* ─── Split ─────────────────────────────────────── */
.panel-split{display:grid;grid-template-columns:1fr;gap:var(--space-3);margin-top:var(--space-3)}
@media(min-width:900px){.panel-split{grid-template-columns:1fr 1fr}}

/* ─── Table ─────────────────────────────────────── */
.table-wrap{
  overflow:auto;border-radius:16px;border:var(--bw) solid var(--glass-line);
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.04));
  -webkit-overflow-scrolling:touch;
}
.tbl{
  width:100%;border-collapse:separate;border-spacing:0;
  min-width:560px;
}
.tbl thead th{
  position:sticky;top:0;z-index:1;
  background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.05));
  -webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);
  font-size:12px;text-align:left;padding:12px;border-bottom:var(--bw) solid var(--glass-line)
}
.tbl td{padding:12px;border-bottom:1px solid rgba(255,255,255,.12);vertical-align:middle}
.tbl .ar{text-align:right}
.tbl .name{max-width:260px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.dense td,.dense th{padding:10px 12px}
.tbl tbody tr:hover{background:rgba(255,255,255,.05)}
.tbl tr:last-child td{border-bottom:none}

/* ─── Mini activity ─────────────────────────────── */
.mini-activity{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px}
.arow{
  display:grid;grid-template-columns:70px 1fr auto;
  gap:12px;align-items:center;
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
  border:var(--bw) solid var(--glass-line);
  border-radius:14px;padding:12px 14px
}
@media(max-width:380px){
  .arow{grid-template-columns:60px 1fr}
  .arow > .aval{grid-column:1 / -1;justify-self:end}
}
.adate{color:var(--muted);font-size:12px}
.aval{font-weight:1000;white-space:nowrap;font-variant-numeric:tabular-nums}
.aval.pos{color:var(--good)} .aval.neg{color:var(--bad)}
.cbadge{border:var(--bw) solid var(--glass-line);border-radius:10px;padding:4px 8px;background:var(--glass);font-size:12px}
.small{font-size:12px;color:var(--muted)}
.empty{color:rgba(255,255,255,.92);text-align:center;padding:12px}

/* ─── Gauges ────────────────────────────────────── */
.gauges{display:grid;grid-template-columns:1fr;gap:var(--space-3);margin-top:var(--space-3)}
@media(min-width:780px){.gauges{grid-template-columns:1fr 1fr 1fr}}
.gauge{
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
  border:var(--bw) solid var(--glass-line);border-radius:16px;padding:16px
}
.g-title{font-size:12px;color:var(--muted)}
.g-figure{font-weight:1000;margin:8px 0;font-variant-numeric:tabular-nums;font-size:18px}
.g-figure.pos{color:var(--good)} .g-figure.neg{color:var(--bad)}
.g-bar{height:10px;background:rgba(255,255,255,.14);border-radius:999px;overflow:hidden;border:var(--bw) solid var(--glass-line)}
.g-bar span{
  display:block;height:100%;width:0;
  background:linear-gradient(90deg,rgba(96,165,250,.7),rgba(139,92,246,1));
  box-shadow:0 0 16px rgba(96,165,250,.55), 0 0 20px rgba(139,92,246,.45)
}

/* ─── Realized KPI ───────────────────────────────── */
.grid3{display:grid;grid-template-columns:1fr;gap:var(--space-3)}
@media(min-width:680px){.grid3{grid-template-columns:1fr 1fr 1fr}}
.kpi{
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
  border:var(--bw) solid var(--glass-line);border-radius:16px;padding:16px
}
.kpi .k{font-size:12px;color:var(--muted)}
.kpi .v{font-weight:1000;font-size:20px;font-variant-numeric:tabular-nums}
.kpi .v.pos{color:var(--good)} .kpi .v.neg{color:var(--bad)}

/* ─── Timeline ──────────────────────────────────── */
.activity-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-2);gap:10px;flex-wrap:wrap}
.chips{display:flex;gap:10px;flex-wrap:wrap;overflow:auto;-webkit-overflow-scrolling:touch}
.chip{
  flex:0 0 auto;
  min-height:var(--tap);
  padding:8px 14px;border-radius:999px;
  border:var(--bw) solid var(--glass-line);
  background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));color:#fff;
  font-weight:900
}
.chip.active{
  background:linear-gradient(180deg,rgba(96,165,250,.45),rgba(96,165,250,.22));
  border-color:rgba(96,165,250,.95);
  box-shadow:0 0 22px rgba(96,165,250,.28)
}

.timeline{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px}
.trow{
  display:grid;grid-template-columns:64px 1fr;gap:12px;align-items:flex-start;
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
  border:var(--bw) solid var(--glass-line);
  border-radius:16px;padding:12px 14px
}
@media(max-width:380px){
  .trow{grid-template-columns:56px 1fr}
}
.tdate{color:var(--muted);font-size:13px}
.tbody{display:flex;flex-direction:column;gap:6px;min-width:0}
.tline{display:flex;align-items:center;gap:10px;min-height:22px}
.tbadge{border:var(--bw) solid var(--glass-line);border-radius:10px;padding:4px 8px;background:var(--glass);font-size:12px;white-space:nowrap}
.tmain{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.tmemo{color:var(--muted);font-size:12px}

/* ─── Utils ─────────────────────────────────────── */
.pn{font-variant-numeric:tabular-nums}
.nowrap{white-space:nowrap}
.clip{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.sr-only{
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;
  clip:rect(0,0,0,0);white-space:nowrap;border:0
}

/* Scrollbars */
@supports selector(::-webkit-scrollbar){
  .table-wrap::-webkit-scrollbar{height:10px}
  .table-wrap::-webkit-scrollbar-thumb{background:rgba(255,255,255,.22);border-radius:999px}
  .tabs::-webkit-scrollbar{height:8px}
  .tabs::-webkit-scrollbar-thumb{background:rgba(255,255,255,.22);border-radius:999px}
}

/* 微発光 */
@keyframes glowPulse{
  0%{box-shadow:0 0 0 rgba(96,165,250,0)}
  50%{box-shadow:0 0 24px rgba(96,165,250,.38)}
  100%{box-shadow:0 0 0 rgba(96,165,250,0)}
}
.sparkline{animation:glowPulse 5s ease-in-out infinite}
@media (prefers-reduced-motion:reduce){
  .sparkline{animation:none}
}