:root{
  --bg:#0b0f1a; --fg:#e8eeff; --muted:#94a3b8;
  --glass:rgba(255,255,255,.06); --line:rgba(255,255,255,.14);
  --pri:#6ea8ff; --acc:#00ffd1; --good:#26d07c; --bad:#ff5b6e;
  --radius:14px;
}
body{ background: radial-gradient(1200px 600px at 20% -10%, #132035 0%, #0b0f1a 55%) fixed; color:var(--fg); }
.glass{
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  border:1px solid var(--line);
  backdrop-filter: blur(14px);
  box-shadow: 0 8px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06);
}
section{ margin:14px 12px; }

.ai-header{ padding:14px; }
.ai-title{ font-weight:700; letter-spacing:.2px; margin-bottom:6px; }
.ai-note{ margin:6px 0 8px; color:var(--fg); }
.ai-actions{ margin:0; padding-left:18px; color:var(--muted); }
.btn.ghost{
  border:1px solid var(--pri); color:var(--pri); background:transparent;
  padding:8px 12px; border-radius:10px; margin-right:8px;
}

.kpi-grid{
  display:grid; grid-template-columns:1fr 1fr; gap:10px; padding: 0 12px;
}
.kpi-card{
  border-radius:12px; padding:12px; background:var(--glass); border:1px solid var(--line);
}
.kpi-label{ color:var(--muted); font-size:.85rem; }
.kpi-value{ font-size:1.3rem; font-weight:700; margin-top:4px; }
.kpi-value.pos{ color:var(--good); }
.kpi-value.neg{ color:var(--bad); }

.sector-strip{ padding:12px; }
.strip-title{ margin-bottom:8px; color:var(--muted); font-size:.95rem; }
.strip-scroll{ display:flex; gap:10px; overflow-x:auto; padding-bottom:4px; }
.sector-chip{
  min-width: 160px; padding:10px; border-radius:12px; background:var(--glass); border:1px solid var(--line);
}
.sec-name{ font-weight:600; margin-bottom:4px; }
.sec-meta{ display:flex; gap:8px; align-items:center; }
.sec-meta .mv{ color:var(--muted); font-size:.85rem; }
.sec-meta .rate{ font-weight:700; }
.sec-meta .rate.pos{ color:var(--good); }
.sec-meta .rate.neg{ color:var(--bad); }

.stress{ padding:12px; }
.stress-head{ display:flex; justify-content:space-between; margin-bottom:8px; }
#stressSlider{ width:100%; }

.cash{ padding:12px; }
.cash-head{ margin-bottom:8px; color:var(--muted); }

.todo{ padding:12px; margin-bottom:80px; }
.todo-head{ margin-bottom:8px; color:var(--muted); }
.todo-list{ margin:0; padding-left:18px; }

@media (min-width: 960px){
  .kpi-grid{ grid-template-columns: repeat(4, 1fr); }
  section{ margin:16px auto; max-width: 1100px; }
}

.breakdown{padding:12px}
.bd-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.bd-card{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);
         border-radius:12px;padding:10px}
.bd-head{display:flex;align-items:center;gap:8px;margin-bottom:6px;font-weight:600}
.dot{display:inline-block;width:8px;height:8px;border-radius:50%}
.dot.spot{background:#52d88a}
.dot.margin{background:#ff7a7a}
.bd-row{display:flex;justify-content:space-between;align-items:center;margin:6px 0}
.bd-row.sub{opacity:.75;font-size:.95em}

/* 比率ゲージ */
.bd-gauge{position:relative;height:12px;border-radius:999px;overflow:hidden;
          background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);margin:4px 0 8px}
.bd-gauge-spot{height:100%;background:linear-gradient(90deg,#2dd79b,#49e28a)}
.bd-gauge-margin{height:100%;background:linear-gradient(90deg,#ff8a8a,#ff6d6d)}
.bd-legend{display:flex;justify-content:space-between;font-size:.9rem;margin-bottom:8px;opacity:.9}

@media (max-width: 480px){ .bd-grid{grid-template-columns:1fr} }