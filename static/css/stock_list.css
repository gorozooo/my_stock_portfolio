/* ==========================
   スマホファースト / 最小修正版
   （HTML/JSは変更なし）
   ========================== */

:root{
  --vh: 1vh;
  --navbar-h: 64px;
  --bottom-tab-h: 72px;
  --page-pad: 16px;

  --text: #e9ecf3;
  --text-dim: #b9c3d3;
  --border: rgba(255,255,255,.18);
  --border-dim: rgba(255,255,255,.22);
  --bg-panel: rgba(255,255,255,.04);
  --accent: #00c4ff;
  --accent-2: #7df9ff;
}

/* ==========================
   main（最下部で切れないよう余白広め）
   ========================== */
main{
  padding: 88px 16px calc(var(--bottom-tab-h) + 120px); /* ← 下を広めに確保 */
  min-height: calc((var(--vh) * 100) - var(--navbar-h));
  overflow: visible;
}

/* ==========================
   証券会社タブ（背景帯は消す）
   ========================== */
.broker-tabs-wrapper{
  display:flex;
  justify-content:center;
  gap:8px;
  padding:6px 10px;
  position:sticky;
  top: var(--navbar-h);
  z-index:150;

  /* 余計な帯を出さない */
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-bottom: none;
}
.broker-tabs-wrapper::-webkit-scrollbar{ display:none; }

.broker-tab{
  padding:8px 14px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.05);
  border-radius:14px;
  cursor:pointer;
  flex-shrink:0;
  white-space:nowrap;
  font-size:13px;
  font-weight:700;
  color:var(--text);
  transition:all .2s ease;
}
.broker-tab.active{
  background:linear-gradient(135deg, rgba(0,123,255,.8), rgba(0,255,255,.6));
  border-color: rgba(0,123,255,.8);
  color:#fff;
  box-shadow:0 0 12px rgba(0,200,255,.5);
}

/* ==========================
   ブローカーごとのセクション出し分け（HTMLはそのまま）
   → active だけ表示、他は非表示
   ========================== */
.broker-section{ display:none; }
.broker-section.active{
  display:flex;
  flex-direction:column;
}

/* ==========================
   見出し（読みやすいが控えめに）
   ========================== */
.account-heading{
  margin:16px 2px 10px;
  font-size:14px;
  font-weight:900;
  color:#fff;
  letter-spacing:.4px;
  padding-left:12px;
  position:relative;
  text-shadow: 0 1px 2px rgba(0,0,0,.35);
}
.account-heading::before{
  content:'';
  position:absolute;
  left:0; top:4px; bottom:4px;
  width:4px;
  border-radius:3px;
  background:linear-gradient(180deg, var(--accent), var(--accent-2));
  opacity:.9;
}

/* ==========================
   合計カード（下余白を少し増やす）
   ========================== */
.account-summary{
  display:grid;
  grid-template-columns:1fr;
  row-gap:8px;
  padding: 12px 14px;
  margin: 0 2px 16px;   /* ← 14px→16px に拡大 */
  border: 1px solid rgba(255,255,255,.24);
  border-radius: 14px;
  background: rgba(18,22,32,.6);
  box-shadow: 0 12px 24px rgba(0,0,0,.25);
  font-size: 13px;
  color: #eef2f8;
}
.account-summary .sum-label{
  font-weight: 800;
  color: #ffffff;
}

/* ==========================
   株カード（元のトーン・サイズを維持）
   ========================== */
.stock-card-wrapper{
  background:transparent;
  border-radius:12px;
  width:100%;
  display:flex;
  justify-content:center;
  align-items:center;

  /* ② カード間の隙間を広げる */
  margin-bottom: 20px;  /* ← ここで調整（18〜24推奨） */
}

.stock-card{
  position:relative;
  padding:12px;
  border:1px solid var(--border);
  border-radius:12px;
  background:rgba(20,24,34,.55);
  color:var(--text);
  cursor:pointer;
  font-size:12px;
  width:96%;
  max-width:520px;
  box-sizing:border-box;
  overflow:hidden;
  transition:transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
}
.stock-card:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 24px rgba(0,123,255,.25);
  background:rgba(26,32,48,.6);
  border-color:rgba(125,249,255,.35);
}

/* ヘッダーと行の見た目は控えめに維持 */
.stock-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
  font-size:13px;
  font-weight:800;
}
.stock-name{ color:#fff; }
.stock-code{
  color:#e1e6f0;
  font-weight:800;
  border:1px solid rgba(255,255,255,.28);
  border-radius:6px;
  padding:2px 6px;
  background: rgba(255,255,255,.08);
}
.stock-row{
  display:flex;
  justify-content:space-between;
  margin:4px 0;
  font-size:12px;
  color:#d9deea;
}
.stock-row span:last-child{ color:#fff; font-weight:700; }
.stock-row.gain.positive span:last-child{ color:#6aff6a; font-weight:800; }
.stock-row.gain.negative span:last-child{ color:#ff6a6a; font-weight:800; }

/* ==========================
   ① 左スワイプでだけ出る編集・売却（元の挙動に戻す）
   - 初期状態は完全に見えない・触れない
   - .stock-card に .swiped が付いたときだけ表示
   ========================== */
.stock-card .card-actions{
  position:absolute;
  top:8px;

  /* 初期は完全に隠す（見えない＆触れない） */
  right: -9999px;
  opacity: 0;
  pointer-events: none;

  display:flex;
  gap:6px;
  padding:6px;
  background:rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,123,255,.35);

  /* スワイプ時にスッと出る */
  transition: right .25s ease, opacity .2s ease;
  z-index:10;
}

/* スワイプ状態だけ見せる */
.stock-card.swiped .card-actions{
  right:8px;
  opacity:1;
  pointer-events:auto;
}

.card-actions button{
  padding:6px 12px;
  border-radius:6px;
  font-weight:700;
  font-size:.9rem;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.3);
  color:#fff;
  background:linear-gradient(180deg, rgba(0,123,255,.85), rgba(0,123,255,.6));
}
.card-actions .sell-btn{
  background:linear-gradient(180deg, rgba(220,53,69,.9), rgba(220,53,69,.65));
}