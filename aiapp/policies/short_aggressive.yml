# aiapp/policies/short_aggressive.yml
# 短期 × 攻め 用ポリシー（本気版）

mode: "short_aggressive"

# 1トレードあたりのリスク（総資産に対する％）
risk_pct: 1.0

# 信用余力の使用上限（％）
credit_usage_pct: 70.0

lot_rule:
  etf_codes_prefix: ["13", "15"]
  etf_lot: 1
  stock_lot: 100

# =========================================================
# PRO（Collect/Strict を “両方保持”）
# - learn_mode: 今どっちを運用しているか（collect/strict）
# - profiles: 各モードの中枢パラメータ
# ※ settings.py が、選択中の値を limits / filters に “同期” する
# =========================================================
pro:
  learn_mode: "collect"

  profiles:
    collect:
      limits:
        max_positions: 5
        max_total_risk_r: 3.0
        max_notional_per_trade_yen: 2000000
        min_notional_per_trade_yen: 0
        max_total_notional_yen: 5000000
        reserve_cash_yen: 0
        horizon_bd: 3

    strict:
      limits:
        max_positions: 5
        max_total_risk_r: 3.0
        max_notional_per_trade_yen: 1500000
        min_notional_per_trade_yen: 0
        max_total_notional_yen: 5000000
        reserve_cash_yen: 0
        horizon_bd: 3

      tighten:
        min_reward_risk: 1.0
        min_net_profit_yen: 0

# =========================================================
# 既存キー（後方互換 / 実運用で “今効いてる値”）
# ※ settings.py が pro.learn_mode に合わせて自動同期する
# =========================================================
filters:
  min_net_profit_yen: 0.0
  min_reward_risk: 0.0
  allow_negative_pl: false

fees:
  commission_rate: 0.0005
  min_commission: 100.0
  slippage_rate: 0.001

limits:
  max_positions: 5
  max_total_risk_r: 3.0
  max_notional_per_trade_yen: 2000000
  min_notional_per_trade_yen: 0
  max_total_notional_yen: 5000000
  reserve_cash_yen: 0

entry_tp_sl:
  atr_sl_ratio: 0.60